gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "orange", high = "blue", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black')) + guides(colour = "colorbar", size = "legend", shape = "legend")
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black')) + guide_colourbar(label.theme = element_rect(fill = 'black', colour = 'black'))
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black')) + guides( fill = guide_colourbar(label.theme = element_rect(fill = 'black', colour = 'black')))
gg2 <- gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg2 + guides( fill = guide_colourbar(label.theme = element_rect(fill = 'black', colour = 'black')))
gg2 + guides(fill = guide_colourbar(label.theme = element_rect(fill = 'black', colour = 'black')))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "orange", high = "blue", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
column <- paste0(h,"_Access")
ggsave(paste0(column,"-max50.jpg"), dpi = 108)
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkseagreen3", high = "deepskyblue4", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkseagreen2", high = "dodgerblue4", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkseagreen2", high = "dodgerblue3", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkolivegreen2", high = "dodgerblue4", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "goldenrod2", high = "dodgerblue4", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "goldenrod2", high = "dodgerblue3", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
source('~/GoogleDrive/1UT/0_Research/1_Dissertation/0_Stuff/Shiny App/3_Data_Visualization/AccessMapping.R')
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "orange", high = "blue", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
worldmap2 <- YearMapDataFxn(h,90.01)
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "orange", high = "blue", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
h = 2014
worldmap2 <- YearMapDataFxn(h,90.01)
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "orange", high = "blue", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "goldenrod2", high = "dodgerblue3", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkolivegreen2", high = "dodgerblue3", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkolivegreen2", high = "royalblue4", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "olivedrab3", high = "royalblue4", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "olivedrab3", high = "navy", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "olivedrab3", high = "deepskyblue3", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkseagreen2", high = "deepskyblue3", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
gg <- ggplot() +
ggtitle(as.character(h)) +
theme(plot.title = element_text(hjust = 0.5, size = 30)) +
geom_map(
data=worldmap2,
map=worldmap2,
aes(x=long, y=lat, map_id=region, fill=access)
) +
scale_fill_gradient(low = "darkseagreen2", high = "deepskyblue4", guide = "colourbar", limits=c(0,90)) +
coord_equal() +
ditch_the_axes +
annotate("text",x=160, y=66.5,label = "\U00A9 K. Ramirez-Meyers",col="white", cex=2,alpha = 0.8)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
column <- paste0(h,"_Access")
ggsave(paste0(column,"-max50-small.jpg"), dpi = 72)
ggsave(paste0(column,"-max50-big"), width = 26.67, height = 15)
gg + theme(plot.background = element_rect(fill = 'black', colour = 'black'))
column <- paste0(h,"_Access")
ggsave(paste0(column,"-max50-big"), width = 26.67, height = 15)
ggsave(paste0(column,"-max50-big.jpg"),  width = 26.67, height = 15)
ggsave(paste0(column,"-max50-small.jpg"),  width = 26.67/5, height = 15/5)
ggsave(paste0(column,"-max50-big.jpg"),  width = 26.67/2, height = 15/2)
ggsave(paste0(column,"-max50-small.jpg"),  width = 26.67/3, height = 15/3)
getwd()
shiny::runApp()
load("./20190218.RData")
setwd("~/GoogleDrive/1UT/0_Research/3_Switch/Test_Model/R/")
load("./20190218.RData")
# This code was written to help transferring PLEXOS FCe Data to .tab format for SWITCH
# List of switch core modules' required input files and required columns is in 'modules.txt'
gen_info <- read.delim(file = "/Users/trins/switch/examples/3zone_toy/inputs/generation_projects_info.tab", header = T, sep = "\t")
fce_file = './FCe_data_2015.csv' # Import FCe Plexos Data from /Users/trins/Box/Energy Storage/Archive/FCe dispatch modeling/Reports/
fce_data <- read.csv(file = fce_file, stringsAsFactors = F, na.strings="NA",row.names=NULL, header = T, sep = ",")
dot <- gen_info[dim(gen_info)[1],dim(gen_info)[2]]
#######################################################################################################
#                   Creating inputs for switch_model.timescales
########################################################################################################
# Need to see what Neal has come up with for this
# periods.tab ------------------------------------------------------------- DONE - copied from 3zone_toy
periods <- read.delim(file = "/Users/trins/switch/examples/copperplate0/inputs/periods.tab", header = T, sep = "\t")
# write.table(periods,"../FCe_Model/inputs/periods.tab",sep="\t", row.names = F, quote = F) # if quote = T, column names are with quotation marks and SWITCH doesn't process them
# timeseries.tab ---------------------------------------------------------- DONE - copied from 3zone_toy
t_series <- read.delim(file = "/Users/trins/switch/examples/copperplate0/inputs/timeseries.tab", header = T, sep = "\t")
# write.table(t_series,"../FCe_Model/inputs/timeseries.tab",sep="\t",row.names = F, quote = F)
# timepoints.tab ---------------------------------------------------------- DONE - copied from 3zone_toy
t_points <- read.delim(file = "/Users/trins/switch/examples/copperplate0/inputs/timepoints.tab", header = T, sep = "\t")
# write.table(t_points,"../FCe_Model/inputs/timepoints.tab",sep="\t",row.names = F, quote = F)
#######################################################################################################
#                   Creating inputs for switch_model.financials
########################################################################################################
# financials.dat ----------------------------------------------------------DONE?
financials <- read.table(file = "/Users/trins/switch/examples/3zone_toy/inputs/financials.dat", header = T)
# I just copied this file into our folder
########################################################################################################
#                       Creating inputs for switch_model.generators.core.build
########################################################################################################
# generation_projects_info.tab --------------------------------------------DONE       (no gen_connect_cost_per_mw)
gen_info <- read.delim(file = "/Users/trins/switch/examples/3zone_toy/inputs/generation_projects_info.tab", header = T, sep = "\t")
fce_gen_info <- fce_data[,1:10] # Copy data frame to get the right size set up. 10 = number of mandatory columns
names(fce_gen_info) <- c("GENERATION_PROJECT","gen_tech","gen_load_zone","gen_connect_cost_per_mw","gen_full_load_heat_rate","gen_variable_om","gen_max_age","gen_is_variable","gen_is_baseload","gen_energy_source") # Rename columns - for now, mandatory columns only
# mandatory columns
fce_gen_info$gen_connect_cost_per_mw <- 0 # cost of grid upgrades to support a new project, in $/peakMW --- possibly from https://energy.utexas.edu/sites/default/files/UTAustin_FCe_Exe_Summary_2018.pdf   NOTE: maybe we can leave this blank since we're not building new transmission? just storage? PULL these from other switch examples
fce_gen_info$gen_max_age <- 100  # this is max lifetime of plant ---NOT in fce_data?
fce_gen_info$GENERATION_PROJECT <- as.factor(gsub(' ','_',fce_data$Generator)) # projects that exist or could be built, gsub replaces spaces with underscores
fce_gen_info$gen_energy_source <- fce_data$Fuel
fce_gen_info$gen_load_zone <- fce_data$Load.Zone
fce_gen_info$gen_is_baseload <- 0 # not in fce data. so set for zero...
fce_gen_info$gen_variable_om <- fce_data$Variable.O.M.Charge.USD.per.MWh  # Need to make sure the units are right
fce_gen_info$gen_variable_om[is.na(fce_gen_info$gen_variable_om)] <- 0
#
fce_gen_info$gen_full_load_heat_rate <- as.numeric(fce_data$Average.Heat.Rate.Btu.per.kWh)/1000 # MMBTU/MWh
fce_gen_info$gen_full_load_heat_rate[is.na(fce_gen_info$gen_full_load_heat_rate)==TRUE] <- '.'
#
fce_gen_info$gen_is_variable <- 0
fce_gen_info$gen_is_variable[fce_gen_info$gen_energy_source %in% c("Solar","Wind","Wind-C")] <- 1
#
fce_tech_list <- fce_data[,c("Generator","Fuel","Prime.Mover")]
for(k in 1:dim(fce_tech_list)[1]){fce_tech_list$gen_tech[k] <- paste(fce_tech_list$Fuel[k],fce_tech_list$Prime.Mover[k],sep="_")}
fce_gen_info$gen_tech <- fce_tech_list$gen_tech # NOTE: gen_tech can be anything but must be consistent for generation_projects_info.tab, gen_build_costs.tab, and gen_build_predetermined.tab
write.table(fce_gen_info,"../FCe_Model/inputs/generation_projects_info.tab",sep="\t",row.names = F, quote = F)
fce_build$gen_fixed_om[is.na(fce_build$gen_fixed_om)] <- 0
write.table(fce_build,"../../FCe_Model/inputs/gen_build_costs.tab",sep="\t",row.names = F, quote = F)
write.table(fce_build,"../FCe_Model/inputs/gen_build_costs.tab",sep="\t",row.names = F, quote = F)
save.image("~/GoogleDrive/1UT/0_Research/3_Switch/Test_Model/R/20190222.RData")
fce_cfs$GENERATION_PROJECT
View(fce_cfs)
var_cfs
head(var_cfs)
class(var_cfs$timepoint)
class(fce_cfs$timepoint)
row_count = 0
for(k in 1:length(fce_gen_info$GENERATION_PROJECT)){ # loop through load zones
for(j in 1:dim(t_points)[1]){ # loop through timepoints
row_count = row_count+1
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_gen_info$GENERATION_PROJECT[k])
fce_cfs$timepoint[row_count] <- as.numeric(t_points[j,1])
fce_cfs$gen_max_capacity_factor[row_count] <- 1 # setting all cap at 1 for now
}
}
class(fce_cfs$timepoint)
class(var_cfs$timepoint)
class(t_points[j,1])
fce_cfs$timepoint <- as.numeric(fce_cfs$timepoint)
class(fce_cfs$timepoint)
fce_cfs$timepoint <- as.integer(fce_cfs$timepoint)
class(fce_cfs$timepoint)
write.table(fce_cfs,"../FCe_Model/inputs/variable_capacity_factors.tab",sep="\t",row.names = F, quote = F)
summary(fce_cfs$timepoint)
save.image("~/GoogleDrive/1UT/0_Research/3_Switch/Test_Model/R/20190222.RData")
write.table(fce_cfs,"../FCe_Model/inputs/variable_capacity_factors.tab",sep="\t",row.names = F, quote = F)
setwd("~/GoogleDrive/1UT/0_Research/3_Switch/Test_Model/R/")
load("./20190218.RData")
load("./20190222.RData")
var_cfs <- read.delim(file = "/Users/trins/switch/examples/3zone_toy/inputs/variable_capacity_factors.tab", header = T, sep = "\t")
cf_rows <- length(fce_gen_info$GENERATION_PROJECT)*dim(t_points)[1]
fce_cfs <- fce_data[1:cf_rows,1:length(var_cfs)] # Copy data frame to get the right size set up.
names(fce_cfs) <- names(var_cfs)
row_count = 0
for(k in 1:length(fce_gen_info$GENERATION_PROJECT)){ # loop through load zones
for(j in 1:dim(t_points)[1]){ # loop through timepoints
row_count = row_count+1
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_gen_info$GENERATION_PROJECT[k])
fce_cfs$timepoint[row_count] <- t_points[j,1]
fce_cfs$gen_max_capacity_factor[row_count] <- 0.50 # setting all cap at 1 for now
}
}
fce_cfs$timepoint <- as.integer(fce_cfs$timepoint)
write.table(fce_cfs,"../FCe_Model/inputs/variable_capacity_factors.tab",sep="\t",row.names = F, quote = F)
var_cfs
summary(var_cfs)
summary(fce_gen_info$gen_is_variable)
summary(gen_info$gen_is_variable)
gen_info$GENERATION_PROJECT[gen_info$gen_is_variable==1,]
gen_info$GENERATION_PROJECT[gen_info$gen_is_variable==1]
unique(gen_info$GENERATION_PROJECT[gen_info$gen_is_variable==1])
copy(gen_info$GENERATION_PROJECT)
dim(gen_info$GENERATION_PROJECT)
length(gen_info$GENERATION_PROJECT)
gen_info$GENERATION_PROJECT[gen_info$gen_is_variable==1]
gen_info[gen_info$gen_is_variable==1]
gen_info[gen_info$gen_is_variable==1,]
test <- gen_info$GENERATION_PROJECT[gen_info$gen_is_variable==1]
dim(test)
test <- gen_info[gen_info$gen_is_variable==1,]
dim(test)
summary(test)
var_cfs
unique(var_cfs$GENERATION_PROJECT)
dim(var_cfs)
fce_var_gens <- fce_gen_info$GENERATION_PROJECT[fce_gen_info$gen_is_variable==1]
fce_var_gens
length(fce_var_gens)
length(var_cfs)
fce_var_gens <- fce_gen_info$GENERATION_PROJECT[fce_gen_info$gen_is_variable==1] # isolate list of variable generators
cf_rows <- length(fce_var_gens)*dim(t_points)[1]
fce_cfs <- fce_data[1:cf_rows,1:length(var_cfs)] # Copy data frame to get the right size set up.
names(fce_cfs) <- names(var_cfs)
row_count = 0
names(fce_cfs) <- names(var_cfs)
row_count = 0
for(k in 1:length(fce_var_gens)){ # loop through variable generators
for(j in 1:dim(t_points)[1]){ # loop through timepoints
row_count = row_count+1
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_var_gens$GENERATION_PROJECT[k])
fce_cfs$timepoint[row_count] <- t_points[j,1]
fce_cfs$gen_max_capacity_factor[row_count] <- 0.50 # setting all cap at 1 for now
}
}
k
j
row_count
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_var_gens$GENERATION_PROJECT[k])
head(fce_cfs)
gen_info <- read.delim(file = "/Users/trins/switch/examples/3zone_toy/inputs/generation_projects_info.tab", header = T, sep = "\t")
fce_gen_info <- fce_data[,1:10] # Copy data frame to get the right size set up. 10 = number of mandatory columns
names(fce_gen_info) <- c("GENERATION_PROJECT","gen_tech","gen_load_zone","gen_connect_cost_per_mw","gen_full_load_heat_rate","gen_variable_om","gen_max_age","gen_is_variable","gen_is_baseload","gen_energy_source") # Rename columns - for now, mandatory columns only
# mandatory columns
fce_gen_info$gen_connect_cost_per_mw <- 0 # cost of grid upgrades to support a new project, in $/peakMW --- possibly from https://energy.utexas.edu/sites/default/files/UTAustin_FCe_Exe_Summary_2018.pdf   NOTE: maybe we can leave this blank since we're not building new transmission? just storage? PULL these from other switch examples
fce_gen_info$gen_max_age <- 100  # this is max lifetime of plant ---NOT in fce_data?
fce_gen_info$GENERATION_PROJECT <- as.factor(gsub(' ','_',fce_data$Generator)) # projects that exist or could be built, gsub replaces spaces with underscores
fce_gen_info$gen_energy_source <- fce_data$Fuel
fce_gen_info$gen_load_zone <- fce_data$Load.Zone
fce_gen_info$gen_is_baseload <- 0 # not in fce data. so set for zero...
fce_gen_info$gen_variable_om <- fce_data$Variable.O.M.Charge.USD.per.MWh  # Need to make sure the units are right
fce_gen_info$gen_variable_om[is.na(fce_gen_info$gen_variable_om)] <- 0
#
fce_gen_info$gen_full_load_heat_rate <- as.numeric(fce_data$Average.Heat.Rate.Btu.per.kWh)/1000 # MMBTU/MWh
fce_gen_info$gen_full_load_heat_rate[is.na(fce_gen_info$gen_full_load_heat_rate)==TRUE] <- '.'
#
fce_gen_info$gen_is_variable <- 0
fce_gen_info$gen_is_variable[fce_gen_info$gen_energy_source %in% c("Solar","Wind","Wind-C")] <- 1
#
fce_tech_list <- fce_data[,c("Generator","Fuel","Prime.Mover")]
for(k in 1:dim(fce_tech_list)[1]){fce_tech_list$gen_tech[k] <- paste(fce_tech_list$Fuel[k],fce_tech_list$Prime.Mover[k],sep="_")}
fce_gen_info$gen_tech <- fce_tech_list$gen_tech # NOTE: gen_tech can be anything but must be consistent for generation_projects_info.tab, gen_build_costs.tab, and gen_build_predetermined.tab
fce_var_gens <- fce_gen_info$GENERATION_PROJECT[fce_gen_info$gen_is_variable==1] # isolate list of variable generators
cf_rows <- length(fce_var_gens)*dim(t_points)[1]
fce_cfs <- fce_data[1:cf_rows,1:length(var_cfs)] # Copy data frame to get the right size set up.
names(fce_cfs) <- names(var_cfs)
row_count = 0
for(k in 1:length(fce_var_gens)){ # loop through variable generators
for(j in 1:dim(t_points)[1]){ # loop through timepoints
row_count = row_count+1
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_var_gens$GENERATION_PROJECT[k])
fce_cfs$timepoint[row_count] <- t_points[j,1]
fce_cfs$gen_max_capacity_factor[row_count] <- 0.50 # setting all cap at 1 for now
}
}
fce_cfs
head(fce_cfs)
cf_rows <- length(fce_var_gens)*dim(t_points)[1]
fce_cfs <- fce_data[1:cf_rows,1:length(var_cfs)] # Copy data frame to get the right size set up.
head(fce_cfs)
dim(fce_cfs)
names(fce_cfs) <- names(var_cfs)
row_count = 0
k=1
j=1
row_count = row_count+1
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_var_gens$GENERATION_PROJECT[k])
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_var_gens[k])
head(fce_cfs)
fce_cfs$timepoint[row_count] <- t_points[j,1]
fce_cfs$gen_max_capacity_factor[row_count] <- 0.50 # setting all cap at 1 for now
head(fce_cfs)
row_count = 0
for(k in 1:length(fce_var_gens)){ # loop through variable generators
for(j in 1:dim(t_points)[1]){ # loop through timepoints
row_count = row_count+1
fce_cfs$GENERATION_PROJECT[row_count] <- as.character.factor(fce_var_gens[k])
fce_cfs$timepoint[row_count] <- t_points[j,1]
fce_cfs$gen_max_capacity_factor[row_count] <- 0.50 # setting all cap at 1 for now
}
}
head(fce_cfs)
fce_cfs$timepoint <- as.integer(fce_cfs$timepoint)
write.table(fce_cfs,"../FCe_Model/inputs/variable_capacity_factors.tab",sep="\t",row.names = F, quote = F)
save.image("~/GoogleDrive/1UT/0_Research/3_Switch/Test_Model/R/20190225.RData")
head(fce_gen_info)
fce_gen_info[fce_gen_info$GENERATION_PROJECT=='Martin_Lake_1',]
head(fce_gen_info[1:13,])
unique(fce_gen_info$gen_tech)
unique(fce_gen_info$gen_energy_source)
summary(fce_gen_info$gen_full_load_heat_rate)
View(fce_gen_info)
fuels
fce_fuels
fce_non_fuels
fuels
fce_fuels
c(fce_non_fuels,"Hydro")
fce_fuels
fce_fuels <- fce_fuels[!(fce_fuels$fuel %in% c(fce_non_fuels,"Hydro")),]
write.table(fce_fuels,"../FCe_Model/inputs/fuels.tab",sep="\t",row.names = F, quote = F)
unique(fce_gen_info$gen_energy_source)
fce_gen_info$gen_energy_source[fce_gen_info$gen_energy_source=="Hydro"] <- "Water"
unique(fce_gen_info$gen_energy_source)
write.table(fce_gen_info,"../FCe_Model/inputs/generation_projects_info.tab",sep="\t",row.names = F, quote = F)
setwd("~/GoogleDrive/1UT/0_Research/3_Switch/Test_Model/R/")
load("./20190225.RData")
unique(fce_gen_info$gen_energy_source)
fce_gen_info$gen_energy_source[fce_gen_info$gen_energy_source=="Hydro"] <- "Water"
unique(fce_gen_info$gen_energy_source)
fce_fuels
fce_fuels <- fce_fuels[!(fce_fuels$fuel %in% c(fce_non_fuels,"Hydro")),]
fce_fuels
save.image("~/GoogleDrive/1UT/0_Research/3_Switch/Test_Model/R/20190225.RData")
